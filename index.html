<!doctype html>
<html lang="en" class="h-full bg-slate-100">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infinite Plate With A Circular Inclusion</title>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style type="text/tailwindcss">
    body { @apply font-sans antialiased text-slate-700; }
    .control-card { @apply bg-white border border-slate-200/75 rounded-lg shadow-sm flex flex-col; }
    .card-header { @apply bg-slate-50/75 border-b border-slate-200/75 px-3 py-2 flex justify-between items-center; }
    .card-title { @apply text-sm font-semibold text-slate-800; }
    .card-body { @apply p-3 flex-1; }
    .form-input { @apply w-full bg-slate-50 border border-slate-200 rounded-md px-2 py-1 text-sm text-right tabular-nums focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500; }
    .reset-btn { @apply text-xs font-medium text-slate-500 hover:text-sky-600; }
    .primary-btn { @apply w-full rounded-lg bg-sky-600 text-white py-2.5 text-sm font-semibold shadow-sm hover:bg-sky-700 active:bg-sky-800; }
  </style>
</head>

<body class="h-full flex flex-col">

  <header class="py-3 text-center border-b border-slate-200 bg-white flex-shrink-0 z-10">
    <h1 class="text-xl font-bold text-slate-900">
      Infinite Plate With A Circular Inclusion
    </h1>
  </header>

  <div class="flex-1 flex overflow-hidden">
    <main class="flex-1 p-6 flex items-center justify-center">
        <div class="w-full h-full bg-white rounded-lg shadow-inner ring-1 ring-slate-200">
          <canvas id="glCanvas" class="w-full h-full block rounded-lg"></canvas>
        </div>
    </main>

    <aside class="w-full max-w-2xl h-full flex-shrink-0 bg-slate-50 border-l border-slate-200 overflow-y-auto">
      <div class="p-4">
        
        <div class="grid grid-cols-2 gap-3">
          <div class="control-card">
            <div class="card-header"><h2 class="card-title">Geometry & load</h2><button id="resetGeom" class="reset-btn">Reset</button></div>
            <div class="card-body grid grid-cols-2 gap-x-4 place-content-center">
              <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="lambda">&lambda;</label><input id="lambda" class="form-input" type="number" step="0.01" value="1"></div>
              <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="beta">&beta;¬∞</label><input id="beta" class="form-input" type="number" step="1" value="0"></div>
            </div>
          </div>
          
          <div class="control-card">
            <div class="card-header"><h2 class="card-title">View</h2><button id="viewReset" class="reset-btn">Reset</button></div>
            <div class="card-body grid grid-cols-3 gap-x-3 place-content-center">
              <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="viewX">x</label><input id="viewX" class="form-input" step="0.05" value="0"></div>
              <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="viewY">y</label><input id="viewY" class="form-input" step="0.05" value="0"></div>
              <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="viewZoom">üîç</label><input id="viewZoom" class="form-input" step="0.1" value="1"></div>
            </div>
          </div>

          <div class="control-card">
            <div class="card-header"><h2 class="card-title">Material</h2><button id="resetMat" class="reset-btn">Reset</button></div>
            <div class="card-body grid grid-cols-3 gap-x-3 place-content-center">
                <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="rho">&Gamma;</label><input id="rho" class="form-input" value="0.10"></div>
                <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="nuM">&nu;<sub>M</sub></label><input id="nuM" class="form-input" type="number" value="0.17"></div>
                <div class="grid grid-cols-[auto_1fr] items-center gap-x-2"><label for="nuP">&nu;<sub>P</sub></label><input id="nuP" class="form-input" type="number" value="0.33"></div>
            </div>
          </div>
          
          <div class="control-card">
            <div class="card-header"><h2 class="card-title">Mode</h2></div>
            <div class="card-body grid grid-cols-3 items-center justify-items-center gap-x-2 place-content-center">
              <label class="flex items-center gap-1.5 cursor-pointer text-xs"><input name="plane" type="radio" value="strain" checked class="h-4 w-4 accent-sky-600"> plane strain</label>
              <label class="flex items-center gap-1.5 cursor-pointer text-xs"><input name="plane" type="radio" value="stress" class="h-4 w-4 accent-sky-600"> plane stress</label>
              <label class="flex items-center gap-1.5 cursor-pointer text-xs"><input id="holeChk" type="checkbox" class="h-4 w-4 rounded accent-sky-600"> Hole</label>
            </div>
          </div>
          
          <div class="control-card col-span-2">
            <div class="card-header"><h2 class="card-title">Stress</h2></div>
            <table class="w-full text-center text-xs">
                <thead class="bg-slate-50/75 text-slate-600">
                  <tr class="border-b border-slate-200/75">
                    <th class="py-1.5 px-3 text-left font-semibold">Component</th>
                    <th class="py-1.5 px-3 font-semibold">max œÉ</th>
                    <th class="py-1.5 px-3 font-semibold">min œÉ</th>
                    <th class="py-1.5 px-3 font-semibold">œÉ(x,y)</th>
                  </tr>
                </thead>
                <tbody class="font-mono">
                  <tr class="border-b border-slate-200/75">
                    <td class="py-1.5 px-3 text-left"><label class="font-sans font-medium flex items-center gap-2 cursor-pointer"><input name="comp" type="radio" value="0" checked class="h-4 w-4 accent-sky-600"> œÉ‚Çì‚Çì</label></td>
                    <td id="max_xx" class="py-1.5 px-3">‚Äë</td><td id="min_xx" class="py-1.5 px-3">‚Äë</td><td id="cur_xx" class="py-1.5 px-3">‚Äë</td>
                  </tr>
                  <tr class="border-b border-slate-200/75">
                    <td class="py-1.5 px-3 text-left"><label class="font-sans font-medium flex items-center gap-2 cursor-pointer"><input name="comp" type="radio" value="1" class="h-4 w-4 accent-sky-600"> œÉ·µß·µß</label></td>
                    <td id="max_yy" class="py-1.5 px-3">‚Äë</td><td id="min_yy" class="py-1.5 px-3">‚Äë</td><td id="cur_yy" class="py-1.5 px-3">‚Äë</td>
                  </tr>
                  <tr>
                    <td class="py-1.5 px-3 text-left"><label class="font-sans font-medium flex items-center gap-2 cursor-pointer"><input name="comp" type="radio" value="2" class="h-4 w-4 accent-sky-600"> œÑ‚Çì·µß</label></td>
                    <td id="max_xy" class="py-1.5 px-3">‚Äë</td><td id="min_xy" class="py-1.5 px-3">‚Äë</td><td id="cur_xy" class="py-1.5 px-3">‚Äë</td>
                  </tr>
                </tbody>
            </table>
          </div>
          
          <div class="control-card col-span-2">
            <div class="card-header"><h2 class="card-title">Colour map</h2></div>
            <div class="card-body space-y-3">
                <select id="cmap" class="w-full border border-slate-300 rounded-md px-2 py-1.5 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-500">
                  <option value="0" selected>Rainbow</option><option value="1" >Jet</option>
                  <option value="2">Hot</option><option value="3" >Cool-Warm</option>
                  <option value="4">Inv Cool-Warm</option>
                </select>
                <canvas id="legendCanvas" class="h-4 w-full rounded-full"></canvas>
                <div class="flex justify-between text-xs tabular-nums font-medium text-slate-600">
                  <span id="legendMin">‚Äë</span><span id="legendMax">‚Äë</span>
                </div>
            </div>
          </div>
          
          <div class="col-span-2 pt-1">
            <button id="btnSave" class="primary-btn">Save PNG</button>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <script type="module" src="/src/index.ts"></script>
</body>
</html>